<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 <mapper namespace="org.dao.CityDao">
   <insert id="insertCity" >
    insert into city values(#{cid},#{cname},#{pid})
   </insert> 
   
   <insert id="insertGetIdCity"  >
    insert into city values(#{cid},#{cname},#{pid})
    <!-- keyProperty 将查询的结果映射给哪个字段
         resultType 返回的类型
         order 先添加数据库给还是xian给值(mysql是添加后,oracle是之前)
     -->
    <selectKey keyProperty="cid" resultType="int" order="AFTER">
      select @@identity
    </selectKey>
   </insert> 
   
   <delete id="deleteCityById">
    delete from city where cid=#{cid}
   </delete>  
    
   <update id="updateCityById">
    update city set cname=#{cname},pid=#{pid} where cid=#{cid}
   </update> 
    
    <!-- 当参数值为一个时表示占位符，填什么都可以 -->
   <select id="selectOneCityById" resultType="City">
    select * from city where cid=#{cid}
   </select>
   
   <select id="selectAllCity" resultType="City">
    select * from city
   </select>
     
 </mapper>